<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOVA Results – Trait‑Based Insights</title>
  <style>
    :root { --bg:#0b1636; --ink:#eaf1ff; --edge:rgba(255,255,255,0.12); --card:#ffffff; --accent:#ffd166; }
    body { margin:0; font-family: Arial, Helvetica, sans-serif; background:var(--bg); color:var(--ink); }
    header { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:#0f1e44; border-bottom:1px solid var(--edge); position:sticky; top:0; z-index:10; }
    .btn { display:inline-block; padding:10px 14px; border-radius:8px; border:1px solid #d1d5db; background:#fff; color:#0f172a; text-decoration:none; cursor:pointer; }
    .btn.primary { background:var(--accent); color:#1a1500; font-weight:700; border-color:#e5e7eb; }
    .wrap { max-width:1024px; margin:22px auto; padding:0 16px; }
    .card { background:rgba(255,255,255,0.03); border:1px solid var(--edge); border-radius:16px; padding:18px; margin-bottom:14px; }
    .pill { display:inline-block; margin:6px; padding:8px 12px; border-radius:999px; border:1px solid #334155; background:rgba(255,255,255,0.08); color:#fff; font-weight:600; }
    h1,h2,h3 { margin:8px 0; }
    .actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    @media print { .no-print { display:none !important; } body { background:#fff; color:#000; } .card { background:#fff; border-color:#ddd; } }
  </style>
</head>
<body>
  <header>
    <div><b>NOVA</b> • Your Trait‑Based Results</div>
    <div class="no-print">
      <a class="btn" href="index.html">← Edit Traits</a>
      <button class="btn" id="printBtn">Print / Save PDF</button>
      <a class="btn primary" href="pathways.html">Continue → Reflection</a>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <h1>Your NOVA Results</h1>
      <p id="summary">Loading your selections…</p>
      <div id="top-traits"></div>
    </div>

    <div class="card">
      <h2>Your Strength Clusters</h2>
      <div id="clusters"></div>
    </div>

    <div class="card">
      <h2>Suggested Roles</h2>
      <div id="recommendations"></div>
    </div>

    <div class="card no-print">
      <h2>Pause and reflect</h2>
      <p>Skills show what you <i>can</i> do. Purpose reveals what you were <i>made</i> to do. You haven’t lost time — every step brought you here. If your purpose is calling you, it’s worth listening.</p>
      <div class="actions">
        <a class="btn" href="index.html">← Add/Change Traits</a>
        <a class="btn primary" href="pathways.html">Continue → Where are you now?</a>
      </div>
    </div>
  </main>

<script>
  // Mirror cluster logic from index build
  const traitToCluster = {
    'Visionary': 'Design & Innovation','Creative': 'Design & Innovation','Innovative': 'Design & Innovation','Visual thinker': 'Design & Innovation','Storyteller': 'Design & Innovation','User‑centered': 'Design & Innovation','Strategic vision': 'Design & Innovation','Presenter': 'Design & Innovation',
    'Analytical': 'Data & Strategy','Strategic': 'Data & Strategy','Data‑driven': 'Data & Strategy','Researcher': 'Data & Strategy','Process improver': 'Data & Strategy','Planner': 'Data & Strategy','Systems thinker': 'Data & Strategy','Results‑oriented': 'Data & Strategy',
    'Leadership': 'People & Operations','Communicator': 'People & Operations','Mentor': 'People & Operations','Coach': 'People & Operations','Facilitator': 'People & Operations','Client relations': 'People & Operations','Networker': 'People & Operations','Emotional intelligence': 'People & Operations',
    'Organized': 'Execution & Delivery','Execution‑focused': 'Execution & Delivery','Quality‑minded': 'Execution & Delivery','Process‑oriented': 'Execution & Delivery','Resourceful': 'Execution & Delivery','Budget‑minded': 'Execution & Delivery','Compliance minded': 'Execution & Delivery','Presenter': 'Execution & Delivery',
    'Curious': 'Growth & Agility','Quick learner': 'Growth & Agility','Adaptable': 'Growth & Agility','Resilient': 'Growth & Agility','Comfortable with risk': 'Growth & Agility','Decisive': 'Growth & Agility','Independent': 'Growth & Agility','Driven': 'Growth & Agility',
    'Empathetic': 'Service & Care','Customer‑focused': 'Service & Care','Patient': 'Service & Care','Multilingual': 'Service & Care','Ethical': 'Service & Care'
  };

  const clusterBlurbs = {
    'Design & Innovation': 'You excel in ideation, UX, and creating fresh, valuable solutions.',
    'Data & Strategy': 'You shine when solving complex problems and guiding decisions with evidence.',
    'People & Operations': 'You mobilize teams, set direction, and deliver consistent outcomes.',
    'Execution & Delivery': 'You reliably turn work into polished, repeatable outcomes.',
    'Growth & Agility': 'You learn fast and expand capability through experimentation.',
    'Service & Care': 'You design with care for people and deliver helpful experiences.'
  };

  const recs = {
    'Design & Innovation': ['Product Designer','Innovation Manager','Brand Strategist'],
    'Data & Strategy': ['Business Analyst','Data Scientist','Process Engineer'],
    'People & Operations': ['Operations Manager','People Lead','Program Director'],
    'Execution & Delivery': ['Project Manager','Program Manager','Implementation Lead'],
    'Growth & Agility': ['Growth PM','Researcher','Strategy Associate'],
    'Service & Care': ['Customer Success Lead','UX Researcher','Community Manager']
  };

  function render() {
    let selected = [];
    try { selected = JSON.parse(localStorage.getItem('novaSelectedTraits') || '[]'); } catch(e) { selected = []; }
    if (!selected || selected.length === 0) {
      document.getElementById('summary').textContent = "No traits found. Go back to add traits.";
      return;
    }
    document.getElementById('summary').textContent = `You selected ${selected.length} trait${selected.length>1?'s':''}.`;
    document.getElementById('top-traits').innerHTML = selected.map(t => `<span class="pill">${t}</span>`).join('');

    const scores = {};
    selected.forEach(tr => {
      const c = traitToCluster[tr] || 'Other';
      scores[c] = (scores[c] || 0) + 1;
    });
    const ranked = Object.entries(scores).sort((a,b) => b[1]-a[1]);
    const clustersEl = document.getElementById('clusters');
    clustersEl.innerHTML = ranked.map(([c,score]) => `<p><b>${c}</b> (${score}) – ${clusterBlurbs[c] || ''}</p>`).join('');

    const seen = new Set();
    const recWrap = document.getElementById('recommendations');
    recWrap.innerHTML = ranked.map(([c]) => {
      const list = (recs[c] || []).filter(r => !seen.has(r) && seen.add(r));
      return list.length ? `<ul>${list.map(r => `<li>${r}</li>`).join('')}</ul>` : '';
    }).join('');
  }

  render();
  document.getElementById('printBtn')?.addEventListener('click', () => window.print());
</script>
</body>
</html>
