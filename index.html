<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOVA – Trait Selection</title>
  <style>
    body { margin:0; font-family: Arial, Helvetica, sans-serif; background:#0b1636; color:#eaf1ff; }
    header { background:#0f1e44; padding:10px 14px; display:flex; align-items:center; gap:12px; }
    header .brand { font-weight:800; }
    header a { color:#cfe2ff; text-decoration:underline; margin-left:auto; }
    main { padding: 16px 0 28px; }
  </style>
</head>
<body>
  <header>
    <div class="brand">NOVA</div>
    <a href="#" id="beginAgain">Begin Again</a>
  </header>
  <main>
    <nova-traits></nova-traits>
  </main>
  <script>
    // Begin Again: clear and go to welcome
    document.getElementById('beginAgain').addEventListener('click', (e) => {
      e.preventDefault();
      try { localStorage.clear(); sessionStorage.clear(); } catch(e) {}
      location.replace('welcome.html?reset=1&ts=' + Date.now());
    });
  </script>
  <script>
    
class NovaTraits extends HTMLElement {
  constructor(){
    super();
    this.attachShadow({mode:'open'});
    const root = document.createElement('div');
    const style = document.createElement('style');
    style.textContent = `
      :host { all: initial; font-family: Arial, Helvetica, sans-serif; }
      .wrap { box-sizing: border-box; max-width: 1200px; margin: 0 auto; padding: 0 12px; }
      .header { display:flex; align-items:center; justify-content:space-between; gap:12px; margin:8px 0; }
      h2 { all: unset; font-size: 24px; font-weight: 800; color: #fff; }
      .nudge { color:#cbe0ff; font-size:14px; margin:8px 0; }
      .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:16px; margin-top:10px; }
      label.card { display:block; cursor:pointer; }
      input[type="checkbox"] { display:none; }
      .face { background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.15); border-radius:12px; padding:14px; color:#eaf1ff; min-height:92px; box-sizing:border-box; transition: all .15s ease; }
      .title { font-weight: 800; margin-bottom:6px; color:#fff; }
      .desc { color:#cbe0ff; font-size:14px; }
      .selected { outline:2px solid #ffd166; background: rgba(255,209,102,0.08); }
      button.cta { padding:10px 14px; border-radius:10px; border:1px solid #e5e7eb; background:#ffd166; color:#1a1500; font-weight:700; cursor:pointer; }
      .actions { margin-top:12px; display:flex; justify-content:flex-end; }
    `;
    root.innerHTML = `
      <div class="wrap">
        <div class="header">
          <h2>Select your traits</h2>
          <button class="cta" id="ctaTop" style="display:none">See My Trait-Based Results</button>
        </div>
        <p class="nudge" id="nudge">Select at least one trait to continue.</p>
        <div class="grid" id="grid"></div>
        <div class="actions">
          <button class="cta" id="ctaBottom" style="display:none">See My Trait-Based Results</button>
        </div>
      </div>
    `;
    this.shadowRoot.append(style, root);
  }
  connectedCallback(){
    const TRAITS = [
      {title:'Visionary',desc:'Sees future possibilities and patterns quickly.'},
      {title:'Analytical',desc:'Breaks problems down and validates with data.'},
      {title:'Strategic',desc:'Finds leverage points that move the whole system.'},
      {title:'Communicator',desc:'Explains complex ideas clearly and persuasively.'},
      {title:'Leadership',desc:'Mobilizes people and delivers outcomes.'},
      {title:'Creative',desc:'Generates fresh, useful solutions.'},
      {title:'Detail‑oriented',desc:'Notices small facts that improve quality.'},
      {title:'Adaptable',desc:'Shifts approaches quickly as conditions change.'},
      {title:'Resilient',desc:'Bounces back and perseveres through setbacks.'},
      {title:'Empathetic',desc:'Reads others’ emotions and responds with care.'},
      {title:'Organized',desc:'Plans, prioritizes, and tracks work effectively.'},
      {title:'Process‑oriented',desc:'Builds repeatable systems that improve results.'},
      {title:'Quality‑minded',desc:'Insists on high standards and polish.'},
      {title:'Data‑driven',desc:'Uses metrics to guide decisions.'},
      {title:'Curious',desc:'Asks great questions and explores widely.'},
      {title:'Quick learner',desc:'Picks up new tools and domains fast.'},
      {title:'Systems thinker',desc:'Understands how pieces interact in a whole.'},
      {title:'Results‑oriented',desc:'Focuses on outcomes and impact.'},
      {title:'Collaborative',desc:'Builds trust and works well across teams.'},
      {title:'Independent',desc:'Manages self and moves work forward solo.'},
      {title:'Initiator',desc:'Spots opportunities and takes the first step.'},
      {title:'Customer‑focused',desc:'Centers users’ needs in decisions.'},
      {title:'User‑centered',desc:'Designs with empathy and usability in mind.'},
      {title:'Problem solver',desc:'Cuts through ambiguity to solutions.'},
      {title:'Planner',desc:'Maps steps, risks, and resources.'},
      {title:'Presenter',desc:'Communicates to groups with confidence.'},
      {title:'Writer',desc:'Creates clear, compelling written content.'},
      {title:'Researcher',desc:'Finds insights through structured inquiry.'},
      {title:'Innovative',desc:'Pushes beyond the obvious to new value.'},
      {title:'Networker',desc:'Builds relationships and opens doors.'},
      {title:'Mentor',desc:'Develops others with feedback and support.'},
      {title:'Coach',desc:'Guides people to their own best answers.'},
      {title:'Facilitator',desc:'Leads groups to shared decisions.'},
      {title:'Negotiator',desc:'Finds win‑wins and closes agreements.'},
      {title:'Ethical',desc:'Acts with integrity and responsibility.'},
      {title:'Decisive',desc:'Chooses a path and commits.'},
      {title:'Calm under pressure',desc:'Stays steady when stakes are high.'},
      {title:'Comfortable with risk',desc:'Takes smart risks to move forward.'},
      {title:'Resourceful',desc:'Finds a way with limited resources.'},
      {title:'Organizer of chaos',desc:'Brings clarity to messy situations.'},
      {title:'Tech‑savvy',desc:'Learns and applies technology quickly.'},
      {title:'Process improver',desc:'Continuously refines how work is done.'},
      {title:'Visual thinker',desc:'Communicates ideas with visuals.'},
      {title:'Storyteller',desc:'Connects ideas in narrative form.'},
      {title:'Numerate',desc:'Thinks in models, metrics, and ROI.'},
      {title:'Connector',desc:'Links people and opportunities at the right moment.'},
      {title:'Executor',desc:'Gets things done with quality.'},
      {title:'Steadfast',desc:'Dependable; calm under changing demands.'},
      {title:'Strategic vision',desc:'Sets direction that others can follow.'},
      {title:'Client relations',desc:'Builds strong, lasting client partnerships.'}
    ];
    const grid = this.shadowRoot.getElementById('grid');
    const nudge = this.shadowRoot.getElementById('nudge');
    const top = this.shadowRoot.getElementById('ctaTop');
    const bottom = this.shadowRoot.getElementById('ctaBottom');

    grid.innerHTML = TRAITS.map(t => `
      <label class="card">
        <input type="checkbox" value="${t.title}">
        <div class="face">
          <div class="title">${t.title}</div>
          <div class="desc">${t.desc}</div>
        </div>
      </label>
    `).join('');

    const updateState = () => {
      const selected = Array.from(grid.querySelectorAll('input:checked'));
      const show = selected.length > 0;
      nudge.style.display = show ? 'none' : 'block';
      top.style.display = show ? 'inline-block' : 'none';
      bottom.style.display = show ? 'inline-block' : 'none';
    };

    grid.querySelectorAll('input').forEach(cb => {
      const face = cb.parentElement.querySelector('.face');
      const sync = () => { face.classList.toggle('selected', cb.checked); updateState(); };
      cb.addEventListener('change', sync); sync();
    });

    const go = () => {
      const chosen = Array.from(grid.querySelectorAll('input:checked')).map(x => x.value);
      if (!chosen.length) return;
      try { localStorage.setItem('novaSelectedTraits', JSON.stringify(chosen)); } catch(e) {}
      window.location.href = 'results.html?ts=' + Date.now();
    };
    top.addEventListener('click', go);
    bottom.addEventListener('click', go);
  }
}
customElements.define('nova-traits', NovaTraits);

  </script>
</body>
</html>
